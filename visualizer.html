    
<!doctype html>
<html lang="en">
<head>
  <title>Starfield Tutorial</title>
  <meta charset="utf-8">
</head>
<body style="margin:0px;">
  
  <script src="libs/three.js"></script>
  <script src="libs/perlin.js"></script>
  <script src="objects/starfield.js"></script>
  <script src="objects/terrain.js"></script>
  <script src="objects/light.js"></script>
    
    
  <script>
  /**
   * Main Visualizer
   */
  
  function Visualizer(){
   
    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);
    this.scene =  new THREE.Scene();
    this.renderer = new THREE.WebGLRenderer();;

    this.starField = new StarField;
    this.light = new Light();
    this.terrain = new Terrain();
    
    //create perlin noise object
    this.date = new Date();
    this.pn = new Perlin('rnd' + this.date.getTime());

  }
  
  /**
   * Visualizer functions
   */
  Visualizer.prototype = {
    
    constructor: Visualizer,
    init:function(){
      this.camera.position.z = 5;
      //set the size of the renderer
      this.renderer.setSize( window.innerWidth, window.innerHeight );
     
      //add the renderer to the html document body
      document.body.appendChild( this.renderer.domElement );
    
      this.starField.addStars(this.scene);
      this.light.addLight(this.scene);
      this.terrain.addGround(this.scene, this.pn);
      
    },
    render:function(){
      var localRenderer = this;
     //get the frame
     requestAnimationFrame( function(){localRenderer.render();} );
     //render the scene
     this.renderer.render( this.scene, this.camera );
     this.starField.animateStars();
     this.terrain.animateFloor();
    }
    
  };
  
 var viz = new Visualizer;
 viz.init();
 viz.render();
  
  
  </script>

  </body>
</html>
